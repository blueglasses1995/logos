[
  {
    "id": "ch22-p1",
    "type": "multiple-choice",
    "question": "次の証明は構成的ですか？「ある自然数 n が存在して n² > 100 である。証明: n = 11 とすると 11² = 121 > 100。∎」",
    "options": [
      "構成的である。具体的な n = 11 を提示し、条件を満たすことを確認している",
      "構成的ではない。すべての自然数を確認していない",
      "構成的ではない。背理法を使っている",
      "構成的かどうか判定できない"
    ],
    "correctIndex": 0,
    "explanation": "∃n.(n² > 100) の構成的証明は、具体的な n を提示し、その n が条件を満たすことを示すものです。n = 11 という具体例を構成し、121 > 100 を確認しているため、完全に構成的な証明です。"
  },
  {
    "id": "ch22-p2",
    "type": "multiple-choice",
    "question": "古典論理では ¬(P ∧ Q) → (¬P ∨ ¬Q) が成り立ちますが、直観主義論理で成り立たない理由として最も適切なのはどれですか？",
    "options": [
      "¬(P ∧ Q) の証明からは ¬P の証明と ¬Q の証明のどちらを選ぶべきか決定できないため",
      "ド・モルガンの法則自体が直観主義論理では無効であるため",
      "¬(P ∧ Q) が直観主義論理では意味を持たないため",
      "連言（∧）の定義が直観主義論理では異なるため"
    ],
    "correctIndex": 0,
    "explanation": "BHK解釈で ¬P ∨ ¬Q を証明するには、¬P の証明か ¬Q の証明のどちらかを明示する必要があります。しかし ¬(P ∧ Q)（= (P ∧ Q) → ⊥）の証明は「P と Q の両方が同時に成り立つと矛盾する」ことしか示さず、P と Q のどちらが問題なのかを特定しません。したがって、¬P か ¬Q かを選択的に構成できません。"
  },
  {
    "id": "ch22-p3",
    "type": "multiple-choice",
    "question": "プログラマの観点から、直観主義論理で排中律が成り立たないことは何に相当しますか？",
    "options": [
      "任意の型 T に対して T 型の値か (T → Never) 型の値を自動生成する汎用関数は書けない",
      "if-else 文が使えない",
      "関数の戻り値の型を指定できない",
      "変数に値を代入できない"
    ],
    "correctIndex": 0,
    "explanation": "P ∨ ¬P は「P の証明か P の否定の証明のどちらかを返す」ことを要求します。Curry-Howard対応では、これは任意の型 T に対して T 型の値か (T → Never) 型の値を返す関数に相当しますが、そのような万能関数は実装不可能です。if-else 文自体は使えますが、条件の真偽を「魔法のように」判定する手段がないのです。"
  },
  {
    "id": "ch22-p4",
    "type": "counterexample",
    "argument": "直観主義論理では二重否定除去 ¬¬P → P が成り立つ。なぜなら、P を否定することを否定するなら、P が真であるに決まっているからだ。",
    "premises": [
      "¬¬P（P の否定の否定）が証明されている",
      "P を否定すると矛盾するなら P は真である"
    ],
    "conclusion": "¬¬P → P は直観主義論理でも成り立つ",
    "vulnerablePremiseIndex": 1,
    "counterexamples": [
      { "id": "c1", "text": "BHK解釈では ¬¬P は「P → ⊥ の証明から ⊥ を導ける手続き」であり、P の具体的な証明を構成する方法を含んでいない。「矛盾する」ことと「構成できる」ことは異なる。", "isValid": true },
      { "id": "c2", "text": "¬¬P → P は古典論理でも成り立たないので、直観主義論理で成り立たないのは当然である。", "isValid": false }
    ],
    "explanation": "「否定を否定すれば真」は古典論理的な直感ですが、直観主義ではP の証明とは具体的な構成を意味します。¬¬P は「P の否定から矛盾が導ける」ことを示すだけで、P の具体的な構成方法を提供しません。なお、¬¬P → P は古典論理では成立するので、選択肢の「古典論理でも成り立たない」は誤りです。"
  },
  {
    "id": "ch22-p5",
    "type": "counterexample",
    "argument": "次の証明は構成的である: 「10桁の素数が存在する。証明: 10桁の素数が存在しないと仮定すると、素数の個数が有限となり、ユークリッドの定理に矛盾する。ゆえに10桁の素数は存在する。」",
    "premises": [
      "10桁の素数が存在しないと仮定する",
      "素数の個数が有限になり矛盾が生じる",
      "背理法により10桁の素数の存在が示された"
    ],
    "conclusion": "この証明は構成的である",
    "vulnerablePremiseIndex": 2,
    "counterexamples": [
      { "id": "c1", "text": "この証明は背理法（二重否定除去）に依存しており、具体的な10桁の素数を一つも構成していない。構成的証明なら、例えば 1000000007 が素数であることを直接示す必要がある。", "isValid": true },
      { "id": "c2", "text": "ユークリッドの定理自体が非構成的なので、それを使った証明はすべて非構成的になる。", "isValid": false }
    ],
    "explanation": "構成的存在証明は具体的な対象を提示する必要があります。この証明は「存在しないと矛盾する」ことを示すだけで、具体的な10桁の素数を構成していません。なお、ユークリッドの定理自体は構成的に証明可能（新しい素数を実際に構成できる）なので、「ユークリッドの定理が非構成的」という主張は誤りです。"
  }
]
