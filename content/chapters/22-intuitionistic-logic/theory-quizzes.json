[
  {
    "id": "ch22-t1",
    "type": "multiple-choice",
    "question": "直観主義論理で排中律（P ∨ ¬P）が無条件に認められない理由はどれですか？",
    "options": [
      "P ∨ ¬P を主張するには P の証明か ¬P の証明を構成的に提示する必要があるため",
      "P ∨ ¬P は矛盾を含むため",
      "排中律は数学的に誤りであるため",
      "否定（¬P）の定義が直観主義には存在しないため"
    ],
    "correctIndex": 0,
    "explanation": "BHK解釈では、A ∨ B の証明は A の証明か B の証明のどちらかを明示的に構成することを要求します。P ∨ ¬P を主張するには、P の具体的な証明か ¬P の具体的な証明を持っていなければなりません。どちらも持たないまま「どちらかだ」とだけ言うことは、構成的証明の基準を満たしません。"
  },
  {
    "id": "ch22-t2",
    "type": "multiple-choice",
    "question": "BHK解釈において、A → B の証明とは何ですか？",
    "options": [
      "A の証明を入力として受け取り、B の証明を出力として返す手続き（関数）",
      "A が偽であるか B が真であることの確認",
      "A と B が同値であることの証明",
      "A の否定が B を含意することの証明"
    ],
    "correctIndex": 0,
    "explanation": "BHK解釈では、A → B の証明は A の証明を B の証明に変換する構成的な手続き（関数）です。古典論理の「A が偽または B が真」という真理値的な解釈とは根本的に異なり、実際に変換を行うアルゴリズムの存在を要求します。"
  },
  {
    "id": "ch22-t3",
    "type": "multiple-choice",
    "question": "次のうち、直観主義論理でも成立する原理はどれですか？",
    "options": [
      "P → ¬¬P（二重否定導入）",
      "¬¬P → P（二重否定除去）",
      "¬(P ∧ Q) → (¬P ∨ ¬Q)（ド・モルガンの一方向）",
      "(¬Q → ¬P) → (P → Q)（逆対偶）"
    ],
    "correctIndex": 0,
    "explanation": "P → ¬¬P は直観主義でも成立します。P の証明 p があるとき、¬P（= P → ⊥）の証明 f に p を適用すれば f(p): ⊥ を得られるため、(P → ⊥) → ⊥ すなわち ¬¬P が構成できます。一方、¬¬P → P、逆対偶、ド・モルガンの ¬(P ∧ Q) → (¬P ∨ ¬Q) 方向は直観主義では成立しません。"
  },
  {
    "id": "ch22-t4",
    "type": "multiple-choice",
    "question": "Curry-Howard対応において、A ∨ B（選言）に対応するプログラミングの構造は何ですか？",
    "options": [
      "直和型（タグ付き共用体、Either型）",
      "直積型（タプル、ペア）",
      "関数型",
      "配列型"
    ],
    "correctIndex": 0,
    "explanation": "BHK解釈で A ∨ B の証明は「A の証明（左タグ付き）」か「B の証明（右タグ付き）」のどちらかです。プログラミングでは、これは直和型（Either A B, union型）に対応します。値がどちらの型から来たかを示すタグが付いている点が重要です。"
  },
  {
    "id": "ch22-t5",
    "type": "proof-builder",
    "conclusion": "¬¬P",
    "availablePremises": [
      { "id": "p1", "label": "P（仮定）", "rule": "仮定" },
      { "id": "p2", "label": "¬P を仮定（¬¬P を示すための仮定）", "rule": "仮定（背理法の準備）" },
      { "id": "p3", "label": "¬P と P から ⊥ を導出", "rule": "矛盾（¬除去）" },
      { "id": "p4", "label": "¬P の仮定を閉じて ¬¬P を結論", "rule": "→導入（¬導入）" }
    ],
    "correctOrder": ["p1", "p2", "p3", "p4"],
    "explanation": "P → ¬¬P の構成的証明: P の証明 p が与えられたとき、¬P（= P → ⊥）の証明 f を仮定すると、f(p) により ⊥ が得られます。したがって ¬P → ⊥ が構成でき、これは ¬¬P に他なりません。この証明は直観主義論理でも完全に有効です。"
  }
]
