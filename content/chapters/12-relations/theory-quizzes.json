[
  {
    "id": "ch12-t1",
    "type": "multiple-choice",
    "question": "集合 A = {1, 2, 3} 上の関係 R = {(1,1), (2,2), (3,3), (1,2), (2,1)} はどの性質を持ちますか？",
    "options": [
      "反射的かつ対称的かつ推移的（同値関係）",
      "反射的かつ対称的だが推移的でない",
      "反射的かつ推移的だが対称的でない",
      "対称的かつ推移的だが反射的でない"
    ],
    "correctIndex": 0,
    "explanation": "反射性: (1,1),(2,2),(3,3) ∈ R。対称性: (1,2) ∈ R かつ (2,1) ∈ R。推移性: (1,2),(2,1) → (1,1) ∈ R, (2,1),(1,2) → (2,2) ∈ R。すべて満たします。"
  },
  {
    "id": "ch12-t2",
    "type": "multiple-choice",
    "question": "同値関係 ∼ が集合 A を同値類に分割するとき、正しいのはどれですか？",
    "options": [
      "異なる同値類は互いに素であり、すべての同値類の和集合は A に等しい",
      "同値類は重なることがある",
      "同値類の数は常に |A| に等しい",
      "空集合も同値類になりうる"
    ],
    "correctIndex": 0,
    "explanation": "同値関係による分割（partition）では、各要素はちょうど1つの同値類に属します。よって同値類は互いに素で、その和集合は全体集合 A です。"
  },
  {
    "id": "ch12-t3",
    "type": "multiple-choice",
    "question": "半順序（partial order）の定義を満たす性質の組み合わせはどれですか？",
    "options": [
      "反射的、反対称的、推移的",
      "反射的、対称的、推移的",
      "反射的、反対称的、対称的",
      "対称的、反対称的、推移的"
    ],
    "correctIndex": 0,
    "explanation": "半順序は反射性、反対称性、推移性の3つを要求します。対称性を要求するのは同値関係です。"
  },
  {
    "id": "ch12-t4",
    "type": "multiple-choice",
    "question": "関係 R が推移的であるとはどういう意味ですか？",
    "options": [
      "aRb かつ bRc ならば aRc",
      "aRb ならば bRa",
      "すべての a について aRa",
      "aRb かつ bRa ならば a = b"
    ],
    "correctIndex": 0,
    "explanation": "推移性は「関係の連鎖」を保証します。a が b に関係し、b が c に関係するなら、a は c にも関係するという性質です。"
  },
  {
    "id": "ch12-t5",
    "type": "proof-builder",
    "conclusion": "R は同値関係ではない",
    "availablePremises": [
      { "id": "p1", "label": "R = {(1,2), (2,1), (1,1), (2,2)} on A = {1, 2, 3}", "rule": "前提" },
      { "id": "p2", "label": "(3, 3) ∉ R", "rule": "R の要素を確認" },
      { "id": "p3", "label": "同値関係は反射性を要求する: ∀a ∈ A, aRa", "rule": "定義" },
      { "id": "p4", "label": "3 ∈ A だが 3R3 が成り立たない → 反射性が破れている", "rule": "反例の適用" }
    ],
    "correctOrder": ["p1", "p3", "p2", "p4"],
    "explanation": "A = {1,2,3} 上で反射性が成り立つには (1,1), (2,2), (3,3) すべてが R に含まれる必要がありますが、(3,3) が欠けているため反射性が破れ、同値関係ではありません。"
  }
]
