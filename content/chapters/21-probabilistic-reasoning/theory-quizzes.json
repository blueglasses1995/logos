[
  {
    "id": "ch21-t1",
    "type": "multiple-choice",
    "question": "ベイズの定理 P(H|E) = P(E|H)P(H)/P(E) において、P(H) は何を表しますか？",
    "options": [
      "証拠Eを観測する前の仮説Hの確率（事前確率）",
      "証拠Eを観測した後の仮説Hの確率（事後確率）",
      "仮説Hが真のとき証拠Eが観測される確率（尤度）",
      "証拠Eが観測される全体的な確率（周辺尤度）"
    ],
    "correctIndex": 0,
    "explanation": "P(H) は事前確率（prior probability）であり、証拠Eを考慮する前に持っている仮説Hに対する信念の強さを表します。ベイズ更新により、P(H) は証拠を取り込んだ事後確率 P(H|E) へと更新されます。"
  },
  {
    "id": "ch21-t2",
    "type": "multiple-choice",
    "question": "有病率 0.1% の病気に対し、感度 99%・特異度 95% の検査で陽性が出ました。実際に病気である確率（陽性的中率）に最も近いのはどれですか？",
    "options": [
      "約 2%",
      "約 50%",
      "約 95%",
      "約 99%"
    ],
    "correctIndex": 0,
    "explanation": "P(病気|陽性) = (0.99 × 0.001) / (0.99 × 0.001 + 0.05 × 0.999) = 0.00099 / 0.05094 ≈ 0.019（約 2%）。有病率（基準率）が非常に低いため、検査精度が高くても偽陽性の数が真の陽性を大きく上回ります。これが基準率錯誤の典型例です。"
  },
  {
    "id": "ch21-t3",
    "type": "multiple-choice",
    "question": "帰納的推論と演繹的推論の違いとして正しいのはどれですか？",
    "options": [
      "演繹は真理保存的だが、帰納は内容拡張的で結論の確実性を保証しない",
      "帰納は演繹より常に信頼性が低いので、科学的推論には使えない",
      "演繹も帰納も前提が真なら結論は必ず真である",
      "帰納は前提から結論を必然的に導く推論方法である"
    ],
    "correctIndex": 0,
    "explanation": "演繹的推論は前提に含まれる情報を保存する（真理保存的）のに対し、帰納的推論は前提を超えた結論を導く（内容拡張的）ため、結論の確実性は保証されません。科学的推論の多くは帰納的ですが、確率的評価により合理的な推論は可能です。"
  },
  {
    "id": "ch21-t4",
    "type": "multiple-choice",
    "question": "頻度主義とベイズ主義の説明として正しいのはどれですか？",
    "options": [
      "頻度主義は確率を長期的頻度と解釈し、ベイズ主義は信念の度合いと解釈する",
      "頻度主義は事前確率を必要とし、ベイズ主義は事前確率を使わない",
      "ベイズ主義は繰り返し実験のみに適用され、一回限りの事象には使えない",
      "頻度主義とベイズ主義は常に同じ結論を導く"
    ],
    "correctIndex": 0,
    "explanation": "頻度主義は確率を「繰り返し実験での長期的な相対頻度」として定義し、ベイズ主義は「ある命題に対する合理的な信念の度合い」として定義します。ベイズ主義は事前確率を明示的に使いますが、頻度主義は使いません。"
  },
  {
    "id": "ch21-t5",
    "type": "gap-fill-proof",
    "steps": [
      { "id": "s1", "content": "P(病気) = 0.001（有病率 0.1%）", "type": "given" },
      { "id": "s2", "content": "P(陽性|病気) = 0.99（感度 99%）", "type": "given" },
      { "id": "s3", "content": "P(陽性|健康) = 0.05（偽陽性率 5%）", "type": "given" },
      { "id": "s4", "content": "P(陽性) = P(陽性|病気)×P(病気) + P(陽性|健康)×P(健康) = ???", "type": "gap", "correctValue": "0.99×0.001 + 0.05×0.999 = 0.05094", "rule": "全確率の公式", "options": ["0.99×0.001 + 0.05×0.999 = 0.05094", "0.99×0.001 = 0.00099", "0.99 + 0.05 = 1.04", "0.99×0.05 = 0.0495"] },
      { "id": "s5", "content": "P(病気|陽性) = P(陽性|病気)×P(病気) / P(陽性) = ???", "type": "gap", "correctValue": "0.00099 / 0.05094 ≈ 0.019", "rule": "ベイズの定理", "options": ["0.00099 / 0.05094 ≈ 0.019", "0.99 / 0.05094 ≈ 19.4", "0.99 × 0.001 = 0.00099", "0.05094 / 0.00099 ≈ 51.5"] }
    ],
    "explanation": "全確率の公式で P(陽性) を展開し、ベイズの定理に代入して事後確率を求めます。有病率（基準率）が低いため、検査陽性でも実際の罹患確率は約 2% にとどまります。"
  }
]
