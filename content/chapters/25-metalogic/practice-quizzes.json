[
  {
    "id": "ch25-p1",
    "type": "multiple-choice",
    "question": "ソフトウェアテストの文脈で「全てのバグを自動検出するツールは原理的に存在しない」と言えるのはなぜですか？",
    "options": [
      "停止問題の決定不能性により、任意のプログラムの振る舞いを完全に判定するアルゴリズムは存在しないから",
      "テストケースを無限に用意できないから",
      "プログラマーのミスは予測不可能だから",
      "コンピュータの性能に限界があるから"
    ],
    "correctIndex": 0,
    "explanation": "バグの検出は一般にプログラムの振る舞いの判定に帰着します。停止問題が決定不能であることから、任意のプログラムの振る舞いを完全に判定するアルゴリズムは存在しません。これはコンピュータの性能ではなく、原理的な限界です。"
  },
  {
    "id": "ch25-p2",
    "type": "multiple-choice",
    "question": "「ゲーデルの不完全性定理は数学が不確実であることを示した」という主張は正しいですか？",
    "options": [
      "正しくない。一つの体系で全ての真理を捕捉できないことを示しただけで、個々の定理の確実性は損なわれない",
      "正しい。全ての数学的命題は疑わしい",
      "正しい。数学の基礎は崩壊した",
      "正しくない。不完全性定理は数学には適用されない"
    ],
    "correctIndex": 0,
    "explanation": "不完全性定理は「一つの形式体系では全ての真なる命題を証明できない」ことを示しますが、既に証明された定理の正しさを否定するものではありません。体系を拡張すれば新しい定理が証明可能になります。不完全性は不確実性とは異なります。"
  },
  {
    "id": "ch25-p3",
    "type": "multiple-choice",
    "question": "チューリングの停止問題の証明とカントルの対角線論法（第14章）に共通する構造は何ですか？",
    "options": [
      "「自分自身に適用する」操作によって矛盾を導く自己言及の構造",
      "自然数と実数の濃度の比較",
      "真理値表による全数検査",
      "数学的帰納法による段階的証明"
    ],
    "correctIndex": 0,
    "explanation": "カントルは「仮想的な全単射を自分自身に適用して矛盾を導く」対角線論法を使いました。チューリングは「停止判定器をプログラム自身に適用して矛盾を導く」同じ構造を使いました。どちらも自己言及（自分自身への適用）が鍵です。"
  },
  {
    "id": "ch25-p4",
    "type": "counterexample",
    "argument": "ゲーデルの不完全性定理により、全ての形式体系は矛盾を含む。したがって数学は信頼できない。",
    "premises": ["ゲーデルの不完全性定理により、全ての形式体系は矛盾を含む", "矛盾を含む体系は信頼できない"],
    "conclusion": "数学は信頼できない",
    "vulnerablePremiseIndex": 0,
    "counterexamples": [
      { "id": "ce1", "text": "不完全性定理は「不完全」であることを示すが、「矛盾を含む」とは述べていない", "isValid": true },
      { "id": "ce2", "text": "命題論理は完全かつ無矛盾であり、不完全性定理の条件を満たさない", "isValid": true },
      { "id": "ce3", "text": "数学者は不完全性定理を理解していない", "isValid": false },
      { "id": "ce4", "text": "コンピュータが進歩すれば解決される", "isValid": false }
    ],
    "explanation": "不完全性定理は「無矛盾な」体系が不完全であることを示します。「矛盾を含む」とは一切述べていません。前提1は不完全性定理の誤った解釈です。また、命題論理のように完全かつ無矛盾な体系も存在します。"
  },
  {
    "id": "ch25-p5",
    "type": "counterexample",
    "argument": "停止問題が決定不能なので、プログラムにバグがあるかどうかは絶対に判定できない。よって静的解析ツールは無意味だ。",
    "premises": ["停止問題が決定不能なので、プログラムのバグは絶対に判定できない", "判定できないものに対するツールは無意味だ"],
    "conclusion": "静的解析ツールは無意味だ",
    "vulnerablePremiseIndex": 0,
    "counterexamples": [
      { "id": "ce1", "text": "停止問題は「任意の」プログラムに対して決定不能であり、多くの具体的なプログラムのバグは検出可能", "isValid": true },
      { "id": "ce2", "text": "静的解析は完全ではなくても多くのバグを実際に発見できる（実用的価値がある）", "isValid": true },
      { "id": "ce3", "text": "静的解析ツールは高価だから使うべきでない", "isValid": false },
      { "id": "ce4", "text": "プログラマーは全員テストだけでバグを見つけるべきだ", "isValid": false }
    ],
    "explanation": "停止問題の決定不能性は「一般的な」判定の不可能性を示します。特定のプログラムやバグのパターンについては判定可能な場合が多く、静的解析ツールはそのような検出可能なパターンを効果的に発見します。「一般的に不可能」と「全く無意味」を混同してはいけません。"
  }
]
