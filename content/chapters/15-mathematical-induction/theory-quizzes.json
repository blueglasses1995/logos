[
  {
    "id": "ch15-t1",
    "type": "multiple-choice",
    "question": "数学的帰納法で証明するために必要な2つのステップはどれですか？",
    "options": [
      "基底ケースと帰納ステップ",
      "帰納仮定と帰結",
      "前提と結論",
      "全称命題と存在命題"
    ],
    "correctIndex": 0,
    "explanation": "数学的帰納法は、(1) 基底ケース P(0) の証明と、(2) 帰納ステップ P(n) → P(n+1) の証明の2段階で構成されます。この2つが揃って初めて、すべての自然数について P(n) が成り立つと結論できます。"
  },
  {
    "id": "ch15-t2",
    "type": "multiple-choice",
    "question": "帰納仮定（Induction Hypothesis）とは何ですか？",
    "options": [
      "帰納ステップにおいて P(n) が成り立つと仮定すること",
      "基底ケースで P(0) が成り立つことを示すこと",
      "∀n P(n) が成り立つことを仮定すること",
      "P(n+1) が成り立つと仮定すること"
    ],
    "correctIndex": 0,
    "explanation": "帰納仮定とは、帰納ステップにおいて「ある自然数 n について P(n) が成り立つ」と仮定することです。この仮定を用いて P(n+1) を導くのが帰納ステップの構造です。"
  },
  {
    "id": "ch15-t3",
    "type": "multiple-choice",
    "question": "基底ケースを省略して帰納ステップだけを示した場合、何が起こりますか？",
    "options": [
      "証明として成立しない。最初の命題が成り立つ保証がないため、何も導けない",
      "基底ケースは自明なので省略しても問題ない",
      "帰納ステップが十分に強ければ基底ケースは不要",
      "結論は確率的に正しいと言える"
    ],
    "correctIndex": 0,
    "explanation": "帰納法はドミノ倒しのように機能します。帰納ステップは「前のドミノが倒れたら次も倒れる」という連鎖を保証しますが、最初のドミノ（基底ケース）を倒さなければ、一つも倒れません。基底ケースの省略は致命的な誤りです。"
  },
  {
    "id": "ch15-t4",
    "type": "gap-fill-proof",
    "steps": [
      { "id": "s1", "content": "示すべき命題: ∀n ≧ 1, 1+2+...+n = n(n+1)/2", "type": "given" },
      { "id": "s2", "content": "基底ケース (n=1): 左辺 = 1, 右辺 = 1(2)/2 = 1 ✓", "type": "given" },
      { "id": "s3", "content": "帰納仮定: 1+2+...+n = n(n+1)/2 と仮定", "type": "given" },
      { "id": "s4", "content": "1+2+...+n+(n+1) = ___", "type": "gap", "correctValue": "n(n+1)/2 + (n+1)", "options": ["n(n+1)/2 + (n+1)", "n(n+2)/2", "(n+1)(n+2)/2", "n(n+1)/2 + n"] },
      { "id": "s5", "content": "= (n+1)(n+2)/2 ✓ よって P(n+1) が成立", "type": "derived", "rule": "帰納仮定の代入と整理" }
    ],
    "explanation": "帰納仮定により 1+2+...+n = n(n+1)/2 なので、(n+1) を加えると n(n+1)/2 + (n+1) となります。これを整理すると (n+1)(n/2 + 1) = (n+1)(n+2)/2 となり、P(n+1) の形になります。"
  },
  {
    "id": "ch15-t5",
    "type": "gap-fill-proof",
    "steps": [
      { "id": "s1", "content": "示すべき命題: ∀n ≧ 0, 2^0 + 2^1 + ... + 2^n = 2^(n+1) - 1", "type": "given" },
      { "id": "s2", "content": "基底ケース (n=0): 左辺 = 2^0 = 1, 右辺 = 2^1 - 1 = 1 ✓", "type": "given" },
      { "id": "s3", "content": "帰納仮定: 2^0 + 2^1 + ... + 2^n = 2^(n+1) - 1 と仮定", "type": "given" },
      { "id": "s4", "content": "2^0 + ... + 2^n + 2^(n+1) = ___", "type": "gap", "correctValue": "(2^(n+1) - 1) + 2^(n+1)", "options": ["(2^(n+1) - 1) + 2^(n+1)", "2^(n+2) - 1", "2 * 2^(n+1)", "2^(n+1) + 2^n"] },
      { "id": "s5", "content": "= 2 * 2^(n+1) - 1 = 2^(n+2) - 1 ✓", "type": "derived", "rule": "帰納仮定の代入と整理" }
    ],
    "explanation": "帰納仮定を用いて和の部分を 2^(n+1) - 1 に置き換え、そこに 2^(n+1) を加えます。2^(n+1) - 1 + 2^(n+1) = 2 * 2^(n+1) - 1 = 2^(n+2) - 1 となり、P(n+1) が示されます。"
  }
]
