[
  {
    "id": "ch15-p1",
    "type": "proof-builder",
    "conclusion": "∀n ≧ 1: 1+3+5+...+(2n-1) = n^2",
    "availablePremises": [
      { "id": "p1", "label": "基底ケース: n=1 のとき 1 = 1^2 ✓", "rule": "基底ケース" },
      { "id": "p2", "label": "帰納仮定: 1+3+...+(2n-1) = n^2 と仮定", "rule": "帰納仮定" },
      { "id": "p3", "label": "P(n+1): 1+3+...+(2n-1)+(2(n+1)-1) = n^2 + (2n+1) = (n+1)^2", "rule": "帰納ステップ" }
    ],
    "correctOrder": ["p1", "p2", "p3"],
    "explanation": "奇数の和が平方数になることの帰納法証明です。基底ケース n=1 を確認し、帰納仮定で和が n^2 であると仮定し、次の奇数 (2n+1) を加えると n^2 + 2n + 1 = (n+1)^2 が得られます。"
  },
  {
    "id": "ch15-p2",
    "type": "proof-builder",
    "conclusion": "∀n ≧ 1: 1^2+2^2+...+n^2 = n(n+1)(2n+1)/6",
    "availablePremises": [
      { "id": "p1", "label": "基底ケース: n=1 のとき 1 = 1(2)(3)/6 = 1 ✓", "rule": "基底ケース" },
      { "id": "p2", "label": "帰納仮定: 1^2+...+n^2 = n(n+1)(2n+1)/6 と仮定", "rule": "帰納仮定" },
      { "id": "p3", "label": "n(n+1)(2n+1)/6 + (n+1)^2 = (n+1)(n+2)(2n+3)/6", "rule": "帰納ステップ（代数的整理）" }
    ],
    "correctOrder": ["p1", "p2", "p3"],
    "explanation": "二乗和の公式の帰納法証明です。帰納仮定を代入した後、(n+1)^2 を加え、通分して因数分解すると (n+1)(2n^2+7n+6)/6 = (n+1)(n+2)(2n+3)/6 が得られます。"
  },
  {
    "id": "ch15-p3",
    "type": "proof-builder",
    "conclusion": "∀n ≧ 0: 7^n - 1 は 6 の倍数",
    "availablePremises": [
      { "id": "p1", "label": "基底ケース: n=0 のとき 7^0 - 1 = 0 = 6×0 ✓", "rule": "基底ケース" },
      { "id": "p2", "label": "帰納仮定: 7^n - 1 = 6k（ある整数 k）と仮定", "rule": "帰納仮定" },
      { "id": "p3", "label": "7^(n+1) - 1 = 7·7^n - 1 = 7(6k+1) - 1 = 42k + 6 = 6(7k+1)", "rule": "帰納ステップ" }
    ],
    "correctOrder": ["p1", "p2", "p3"],
    "explanation": "帰納仮定より 7^n = 6k + 1 なので、7^(n+1) = 7(6k+1) = 42k + 7。ゆえに 7^(n+1) - 1 = 42k + 6 = 6(7k+1) となり、6の倍数です。"
  },
  {
    "id": "ch15-p4",
    "type": "gap-fill-proof",
    "steps": [
      { "id": "s1", "content": "示すべき命題: ∀n ≧ 1, n^3 + 2n は 3 の倍数", "type": "given" },
      { "id": "s2", "content": "基底ケース (n=1): 1 + 2 = 3 は 3 の倍数 ✓", "type": "given" },
      { "id": "s3", "content": "帰納仮定: n^3 + 2n = 3m（ある整数 m）と仮定", "type": "given" },
      { "id": "s4", "content": "(n+1)^3 + 2(n+1) = n^3 + 3n^2 + 3n + 1 + 2n + 2 = ___", "type": "gap", "correctValue": "(n^3 + 2n) + 3(n^2 + n + 1)", "options": ["(n^3 + 2n) + 3(n^2 + n + 1)", "n^3 + 3n^2 + 5n + 3", "3(n^2 + n + 1) + 3m", "(n+1)(n^2 + 2)"] },
      { "id": "s5", "content": "= 3m + 3(n^2+n+1) = 3(m+n^2+n+1) は 3 の倍数 ✓", "type": "derived", "rule": "帰納仮定の代入" }
    ],
    "explanation": "展開して整理すると (n^3 + 2n) + 3(n^2 + n + 1) という形にまとまります。帰納仮定より n^3 + 2n = 3m なので、全体は 3m + 3(n^2+n+1) = 3(m+n^2+n+1) となり、3の倍数です。"
  },
  {
    "id": "ch15-p5",
    "type": "gap-fill-proof",
    "steps": [
      { "id": "s1", "content": "示すべき命題: ∀n ≧ 1, 1/(1·2) + 1/(2·3) + ... + 1/(n(n+1)) = n/(n+1)", "type": "given" },
      { "id": "s2", "content": "基底ケース (n=1): 1/(1·2) = 1/2 = 1/(1+1) ✓", "type": "given" },
      { "id": "s3", "content": "帰納仮定: 1/(1·2) + ... + 1/(n(n+1)) = n/(n+1) と仮定", "type": "given" },
      { "id": "s4", "content": "n/(n+1) + 1/((n+1)(n+2)) = ___", "type": "gap", "correctValue": "(n(n+2) + 1) / ((n+1)(n+2))", "options": ["(n(n+2) + 1) / ((n+1)(n+2))", "(n+1) / (n+2)", "n / (n+2)", "(n^2 + 2n) / ((n+1)(n+2))"] },
      { "id": "s5", "content": "= (n^2+2n+1) / ((n+1)(n+2)) = (n+1)^2 / ((n+1)(n+2)) = (n+1)/(n+2) ✓", "type": "derived", "rule": "通分と因数分解" }
    ],
    "explanation": "帰納仮定を代入し、通分すると分子が n(n+2)+1 = n^2+2n+1 = (n+1)^2 となります。(n+1)^2 / ((n+1)(n+2)) = (n+1)/(n+2) で、これは P(n+1) の形です。"
  }
]
