[
  {
    "id": "ch19-t1",
    "type": "multiple-choice",
    "question": "認識論理において K_a P が成り立つ条件は？",
    "options": [
      "エージェントaにとって区別できないすべての世界でPが真",
      "エージェントaがPを信じている",
      "すべてのエージェントがPを知っている",
      "現実世界でPが真"
    ],
    "correctIndex": 0,
    "explanation": "K_a Pは「aの持つ情報と両立するすべての世界でPが真」のとき成り立ちます。aが区別できない世界すべてでPが真であれば、aはPを知っていると言えます。"
  },
  {
    "id": "ch19-t2",
    "type": "multiple-choice",
    "question": "共有知識 E_G P と共通知識 C_G P の違いとして正しいのは？",
    "options": [
      "E_G Pは全員がPを知っている状態、C_G Pはそれに加えて「全員がPを知っている」ことも全員が知っている無限の入れ子",
      "E_G PとC_G Pは同じ意味",
      "E_G Pの方がC_G Pより強い条件",
      "C_G Pは一人が知っていれば十分"
    ],
    "correctIndex": 0,
    "explanation": "共有知識E_G Pは「全員がPを知っている」という1段階の知識です。共通知識C_G Pは無限段階の入れ子——全員が知っていて、全員がそれを知っていて...——を要求する、はるかに強い条件です。"
  },
  {
    "id": "ch19-t3",
    "type": "multiple-choice",
    "question": "義務論理において O(P) → P が成り立たない理由は？",
    "options": [
      "義務があるからといって実際に行われるとは限らない（法律があっても違反は起こる）",
      "義務演算子は必然演算子と同じだから",
      "義務は常に満たされるから",
      "Pの真偽と義務は無関係だから"
    ],
    "correctIndex": 0,
    "explanation": "O(P)→Pが成り立つとすると、義務があれば自動的に遂行されることになりますが、現実には義務違反は日常的に起こります。これは義務論理の到達可能性関係が反射的でないことに対応します。"
  },
  {
    "id": "ch19-t4",
    "type": "multiple-choice",
    "question": "マディ・チルドレン問題で父親の公開宣言が必要な理由は？",
    "options": [
      "宣言が共通知識を生み出すことで、各子供の推論が可能になるから",
      "宣言がないと泥がついていることに気づけないから",
      "宣言がないと他の子供の額が見えないから",
      "宣言が新しい情報を提供するから"
    ],
    "correctIndex": 0,
    "explanation": "実は「少なくとも1人に泥がある」こと自体は宣言前から全員が知っていました（2人に泥があるので）。しかし父親の公開宣言は、この事実を共通知識にします。共通知識になることで初めて、「もし自分に泥がなければ」という仮定に基づく再帰的推論が可能になります。"
  },
  {
    "id": "ch19-t5",
    "type": "proof-builder",
    "conclusion": "K_a Q",
    "availablePremises": [
      { "id": "p1", "label": "K_a (P → Q)", "rule": "前提: aは「PならばQ」を知っている" },
      { "id": "p2", "label": "K_a P", "rule": "前提: aはPを知っている" },
      { "id": "p3", "label": "知識の分配公理: K_a(P→Q) → (K_a P → K_a Q)", "rule": "推論規則" }
    ],
    "correctOrder": ["p2", "p1", "p3"],
    "explanation": "知識の分配公理（公理Kの認識論理版）により、K_a(P→Q)とK_a PからK_a Qを導けます。「aが含意を知っていて、前提を知っていれば、結論も知っている」という論理的全知の性質です。"
  }
]
