[
  {
    "id": "ch10-t1",
    "type": "multiple-choice",
    "question": "等号の公理のうち「代入原理」を正しく表しているのはどれですか？",
    "options": [
      "a = b ならば、P(a) が成り立つとき P(b) も成り立つ",
      "a = a は常に成り立つ",
      "a = b ならば b = a",
      "a = b かつ b = c ならば a = c"
    ],
    "correctIndex": 0,
    "explanation": "代入原理（ライプニッツの法則）は「等しいものは任意の文脈で交換可能」という原理です。a = b のとき、P(a)が真ならP(b)も真になります。選択肢2は反射性、選択肢3は対称性、選択肢4は推移性です。"
  },
  {
    "id": "ch10-t2",
    "type": "multiple-choice",
    "question": "∃!x P(x)（P(x)を満たすxがちょうど1つ存在する）の正しい展開はどれですか？",
    "options": [
      "∃x (P(x) ∧ ∀y (P(y) → y = x))",
      "∃x P(x) ∧ ∀x P(x)",
      "∃x (P(x) ∧ ∀y (y = x))",
      "∀x (P(x) ∨ ¬P(x))"
    ],
    "correctIndex": 0,
    "explanation": "∃!x P(x) は「P(x)を満たすxが存在し（∃x P(x)の部分）、かつP(y)を満たす任意のyはそのxと等しい（∀y (P(y) → y = x)の部分）」と展開されます。選択肢3は「すべてのyがxと等しい」という意味になり、P(y)の条件が欠けています。"
  },
  {
    "id": "ch10-t3",
    "type": "multiple-choice",
    "question": "ラッセルのパラドックスについて正しい説明はどれですか？",
    "options": [
      "「自分自身を要素として含まない集合全体の集合」を考えると矛盾が生じる",
      "「すべての集合は自分自身を含む」ことを証明した",
      "等号の推移性が成り立たない場合があることを示した",
      "∃!x P(x) が常に偽であることを示した"
    ],
    "correctIndex": 0,
    "explanation": "R = {x | x ∉ x} を考えると、R ∈ R ↔ R ∉ R という矛盾が生じます。これにより、素朴集合論の無制限の内包公理（任意の性質で集合を作れる）が矛盾を含むことが示されました。解決策として型理論や公理的集合論が提案されました。"
  },
  {
    "id": "ch10-t4",
    "type": "multiple-choice",
    "question": "「P(x)を満たすxが少なくとも2つ存在する」を正しく表現しているのはどれですか？",
    "options": [
      "∃x ∃y (x ≠ y ∧ P(x) ∧ P(y))",
      "∃x ∃y (P(x) ∧ P(y))",
      "∀x ∀y (P(x) ∧ P(y) → x ≠ y)",
      "∃x (P(x) ∧ ∀y (P(y) → y ≠ x))"
    ],
    "correctIndex": 0,
    "explanation": "「少なくとも2つ」はx ≠ yという条件が不可欠です。選択肢2ではx = yの可能性があり、実質的に「少なくとも1つ」と同じになりえます。選択肢3は「Pを満たす任意の2つは異なる」で意味が異なります。選択肢4は「Pを満たすxが存在し、P(y)を満たすyはすべてxと異なる」で矛盾します。"
  },
  {
    "id": "ch10-t5",
    "type": "proof-builder",
    "conclusion": "P(b)",
    "availablePremises": [
      { "id": "p1", "label": "a = b", "rule": "前提" },
      { "id": "p2", "label": "P(a)", "rule": "前提" },
      { "id": "p3", "label": "P(b)", "rule": "=E（p1, p2より）" }
    ],
    "correctOrder": ["p1", "p2", "p3"],
    "explanation": "=E（等号除去 / ライプニッツの法則）の直接的な適用です。a = b が成り立ち、P(a) が成り立つなら、aをbで置き換えてP(b)を導けます。等しいものは任意の文脈で交換可能という原理です。"
  }
]
